# 🧞 FinGenie 프로젝트 개요

## 📁 프로젝트 파일 구조

```
week10/
│
├── 📄 핵심 애플리케이션
│   ├── app.py                    # Streamlit 메인 애플리케이션
│   ├── config.py                 # 설정 및 상수 정의
│   ├── tools.py                  # LangChain Tools 함수들
│   └── workflow.py               # LangGraph 워크플로우
│
├── 📋 문서
│   ├── README.md                 # 전체 프로젝트 문서
│   ├── INSTALL.md                # 상세 설치 가이드
│   ├── QUICKSTART.md             # 빠른 시작 가이드
│   └── PROJECT_OVERVIEW.md       # 이 파일
│
├── 🔧 설정 파일
│   ├── requirements.txt          # Python 패키지 의존성
│   ├── .env.example              # 환경 변수 템플릿
│   ├── .env                      # 환경 변수 (git ignore)
│   └── .gitignore                # Git 제외 파일 목록
│
├── 🚀 실행 스크립트
│   ├── run.bat                   # Windows CMD 실행 스크립트
│   ├── run.ps1                   # PowerShell 실행 스크립트
│   └── test_setup.py             # 설치 테스트 스크립트
│
└── 📊 기획 문서
    ├── FinGenie_AI_Investment_Advisor.md
    └── 평가표.md
```

---

## 🎯 프로젝트 목적

**FinGenie**는 생성형 AI와 실시간 금융 데이터를 결합하여 개인 투자자에게 맞춤형 투자 분석과 조언을 제공하는 AI 투자 어드바이저 챗봇입니다.

### 핵심 가치
1. **접근성**: 전문 지식 없이도 쉽게 사용 가능
2. **실시간성**: 최신 주가 및 뉴스 데이터 기반
3. **개인화**: 투자 성향에 맞춘 조언
4. **투명성**: 분석 근거를 명확히 제시

---

## 🏗️ 아키텍처

### 기술 스택

#### Frontend
- **Streamlit**: 웹 대시보드 UI
- **Plotly**: 인터랙티브 차트 시각화

#### Backend
- **LangChain**: LLM 애플리케이션 프레임워크
- **LangGraph**: 워크플로우 오케스트레이션
- **OpenAI GPT-3.5**: 자연어 처리 및 생성

#### Data Sources
- **yfinance**: Yahoo Finance API (주가 데이터)
- **Google News RSS**: 뉴스 피드
- **feedparser**: RSS 파싱

### 데이터 플로우

```
사용자 입력 (종목 코드, 기간, 성향)
         ↓
┌────────────────────────────────────┐
│      LangGraph Workflow            │
├────────────────────────────────────┤
│ 1. 데이터 수집                      │
│    - 주가 데이터 (yfinance)         │
│    - 뉴스 데이터 (Google News)      │
│         ↓                          │
│ 2. 뉴스 요약                        │
│    - LLM 기반 요약 생성             │
│         ↓                          │
│ 3. 감성 분석                        │
│    - 키워드 기반 분류               │
│    - 긍정/부정/중립 점수화          │
│         ↓                          │
│ 4. 위험도 평가                      │
│    - 변동성 분석                    │
│    - 감성 점수 반영                 │
│         ↓                          │
│ 5. 투자 조언 생성                   │
│    - 성향 기반 맞춤 조언            │
│    - LLM 기반 상세 분석             │
└────────────────────────────────────┘
         ↓
   Streamlit UI 표시
   - 차트, 메트릭, 분석 결과
```

---

## 💡 핵심 기능 상세

### 1. 실시간 종목 분석
**파일**: `tools.py` → `get_stock_summary()`

**기능**:
- 실시간 주가 데이터 조회
- 가격 변동률 계산
- 기간별 최고/최저가
- 거래량 통계
- 시장 정보 (시가총액, 섹터)

**기술**:
- yfinance API를 통한 데이터 수집
- Pandas를 통한 데이터 처리

### 2. 뉴스 기반 감성 분석
**파일**: `tools.py` → `get_stock_news()`, `get_sentiment_analysis()`

**기능**:
- 종목 관련 최신 뉴스 수집
- 긍정/부정/중립 감성 분류
- 감성 점수 계산 (0-100)

**기술**:
- Google News RSS 피드 파싱
- 키워드 기반 감성 분석
- 선택적 LLM 기반 상세 분석

### 3. AI 위험도 평가
**파일**: `tools.py` → `calculate_risk_score()`

**기능**:
- 가격 변동성 평가
- 뉴스 감성 반영
- 종합 위험도 점수 (0-100)
- 위험 요인 리스트

**알고리즘**:
```python
risk_score = base_score(50)
           + volatility_factor
           + sentiment_factor
```

### 4. LangGraph 워크플로우
**파일**: `workflow.py`

**구조**:
```
Entry Point
    ↓
fetch_data → summarize → sentiment → risk → advice
    ↓            ↓          ↓         ↓       ↓
   Error?      LLM       Keywords  Calculate LLM
    ↓
   END
```

**노드**:
1. `fetch_data`: 데이터 수집
2. `summarize`: 뉴스 요약 (LLM)
3. `sentiment`: 감성 분석
4. `risk`: 위험도 평가
5. `advice`: 투자 조언 생성 (LLM)

**특징**:
- 조건부 분기 (에러 처리)
- 상태 기반 데이터 전달
- 단계별 진행 로깅

### 5. Streamlit 대시보드
**파일**: `app.py`

**UI 구성**:

#### 사이드바
- 투자 성향 선택
- 인기 종목 목록
- API 키 상태 표시

#### 메인 영역 (3개 탭)

**탭 1: 🔍 종목 분석**
- 종목 코드 입력
- 분석 기간 선택
- 실시간 차트 (캔들스틱 + 거래량)
- 4개 메트릭 카드 (현재가, 최고가, 최저가, 거래량)
- 뉴스 요약 및 링크
- 감성 점수 게이지 차트
- 위험도 평가 카드
- AI 투자 조언

**탭 2: 📊 포트폴리오**
- 종목 추가/삭제
- 보유 수량 관리
- 평가금액 계산
- 포트폴리오 위험도 분석
- 고위험 종목 알림

**탭 3: 📜 분석 기록**
- 과거 분석 결과 조회
- 시간대별 히스토리
- 기록 관리 (삭제)

---

## 🔑 주요 설정

### 투자 성향 프로필
**파일**: `config.py`

```python
INVESTMENT_PROFILES = {
    "conservative": {  # 안정형
        "risk_tolerance": "낮음"
    },
    "moderate": {      # 중립형
        "risk_tolerance": "중간"
    },
    "aggressive": {    # 공격형
        "risk_tolerance": "높음"
    },
    "growth": {        # 성장형
        "risk_tolerance": "중상"
    }
}
```

### 환경 변수
**파일**: `.env`

```
OPENAI_API_KEY=your_openai_api_key_here
```

---

## 🎨 UI/UX 특징

### 디자인 원칙
1. **직관성**: 명확한 아이콘과 레이블
2. **반응성**: 실시간 피드백
3. **시각화**: 그래프와 차트 활용
4. **접근성**: 색상 코딩 (빨강/노랑/초록)

### 사용자 경험
- 로딩 스피너로 진행 상황 표시
- 에러 메시지 친화적 표현
- 도움말 및 가이드 제공
- 원클릭 인기 종목 선택

---

## 📊 데이터 처리

### 주가 데이터
- **출처**: Yahoo Finance
- **업데이트**: 실시간 (거래 시간 기준)
- **보관**: 세션 상태 (비영구적)

### 뉴스 데이터
- **출처**: Google News RSS
- **범위**: 최신 5개 기사
- **언어**: 한국어/영어

### 분석 결과
- **저장**: 세션 메모리
- **최대**: 10개 기록
- **영속성**: 없음 (재시작 시 초기화)

---

## 🔒 보안 고려사항

1. **API 키 보호**
   - `.env` 파일 사용
   - `.gitignore`에 포함
   - 환경 변수로 로드

2. **데이터 프라이버시**
   - 사용자 데이터 서버 저장 안함
   - 세션 기반 임시 저장

3. **외부 API 의존성**
   - 에러 핸들링 구현
   - 폴백 메커니즘

---

## 📈 확장 가능성

### 단기 개선 사항
- [ ] 더 많은 데이터 소스 통합
- [ ] 백테스팅 기능
- [ ] PDF 리포트 생성
- [ ] 이메일 알림

### 중장기 발전 방향
- [ ] 사용자 계정 시스템
- [ ] 데이터베이스 연동
- [ ] 고급 차트 (기술적 지표)
- [ ] 소셜 기능 (커뮤니티)
- [ ] 모바일 앱

---

## 🎓 학습 포인트

### LangChain 활용
- Tools 패턴 구현
- LLM 체이닝
- 프롬프트 엔지니어링

### LangGraph 활용
- 상태 그래프 설계
- 조건부 분기
- 워크플로우 오케스트레이션

### Streamlit 활용
- 대시보드 디자인
- 세션 상태 관리
- 인터랙티브 위젯

### 데이터 과학
- 시계열 데이터 처리
- 감성 분석
- 위험도 모델링

---

## 🎯 프로젝트 평가 기준 충족

### ✅ 기술 구현
- [x] LangChain 활용
- [x] LangGraph 워크플로우
- [x] 2개 이상 Tools 구현
- [x] RAG + 인터넷 검색
- [x] UI/UX 구현

### ✅ 데이터 중심성
- [x] 실시간 데이터 수집
- [x] 다양한 데이터 소스
- [x] 데이터 기반 분석

### ✅ 창의성
- [x] 개인 맞춤형 조언
- [x] 포트폴리오 관리
- [x] 분석 히스토리

### ✅ 완성도
- [x] 완전한 작동
- [x] 에러 핸들링
- [x] 문서화
- [x] 테스트 가능

---

## 📞 문의 및 지원

문제가 있거나 질문이 있으면:
1. `README.md` 확인
2. `INSTALL.md` 참조
3. `test_setup.py` 실행
4. GitHub Issues 등록

---

**Made with ❤️ by FinGenie Team**

*Last Updated: 2025-11-12*
